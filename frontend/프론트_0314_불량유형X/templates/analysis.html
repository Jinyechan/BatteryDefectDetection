{% extends "base.html" %}

{% block title %}ë¶ˆëŸ‰ ë¶„ì„{% endblock %}

{% block content %}
<head>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet"/>
    <link href="https://ai-public.creatie.ai/gen_page/tailwind-custom.css" rel="stylesheet"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"></script>
    <script src="https://cdn.tailwindcss.com/3.4.5?plugins=forms@0.5.7,typography@0.5.13,aspect-ratio@0.4.2,container-queries@0.1.1"></script>
    <script src="https://ai-public.creatie.ai/gen_page/tailwind-config.min.js" data-color="#000000" data-border-radius="small"></script>
    <style>
        /* ì°¨íŠ¸ í—¤ë” ìŠ¤íƒ€ì¼ ê°œì„  */
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .chart-header h3 {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
        }

        .chart-header select {
            padding: 12px 30px;
            font-size: 14px;
            border-radius: 6px;
            border: 1px solid #ddd;
            background-color: #f8f9fa;
            color: #333;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .chart-header select:hover {
            border-color: #3498db;
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.3);
        }

        .chart-header select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
        }
    </style>
</head>

<main class="main-content">
    <!-- ì°¨íŠ¸ ì»¨í…Œì´ë„ˆ -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
        <div class="bg-white rounded-lg shadow p-6">
            <div class="chart-header">
                <h3>ìƒì‚°ë¼ì¸ë³„ ë¶ˆëŸ‰ë¥ </h3>
                <select>
                    <option>ì¼ê°„</option>
                    <option>ì£¼ê°„</option>
                    <option>ì›”ê°„</option>
                </select>
            </div>
            <div id="lineChart" style="height: 400px;"></div>
        </div>
        <div class="bg-white rounded-lg shadow p-6">
            <div class="chart-header">
                <h3>ë¶ˆëŸ‰ë¥  ì¶”ì´</h3>
                <select>
                    <option>ì¼ê°„</option>
                    <option>ì£¼ê°„</option>
                    <option>ì›”ê°„</option>
                </select>
            </div>
            <div id="barChart" style="height: 400px;"></div>
        </div>
    </div>

    <!-- ë¶ˆëŸ‰ ë¡œê·¸ -->
    <div class="bg-white rounded-lg shadow p-6">
        <div class="flex items-center justify-between mb-6">
            <h3 class="text-lg font-medium text-gray-900">ë¶ˆëŸ‰ ë¡œê·¸</h3>
            <div class="flex items-center space-x-4">
                <div class="text-sm text-gray-700">ì´ <span class="font-medium">97</span>ê°œ í•­ëª© ì¤‘ <span class="font-medium">1-10</span></div>
            </div>
        </div>
        <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
                <thead>
                    <tr>
                        <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase">ë‚ ì§œ</th>
                        <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase">ë¶ˆëŸ‰ ë²ˆí˜¸</th>
                        <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase">ìƒì‚°ë¼ì¸</th>
                        <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase">ë¶ˆëŸ‰ ì ìˆ˜</th>
                        <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase">ë¶ˆëŸ‰ ì •ë„</th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    <tr class="hover:bg-gray-50 cursor-pointer">
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2024-02-15</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">#1024</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ë¼ì¸ A</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">92ì </td>
                        <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">ì‹¬ê°</span></td>
                    </tr>
                    <tr class="hover:bg-gray-50 cursor-pointer">
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2024-02-15</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">#1023</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ë¼ì¸ B</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">88ì </td>
                        <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">ì‹¬ê°</span></td>
                    </tr>
                    <tr class="hover:bg-gray-50 cursor-pointer">
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2024-02-14</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">#1022</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ë¼ì¸ C</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">75ì </td>
                        <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">ì£¼ì˜</span></td>
                    </tr>
                    <tr class="hover:bg-gray-50 cursor-pointer">
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2024-02-14</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">#1021</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ë¼ì¸ A</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">82ì </td>
                        <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">ì‹¬ê°</span></td>
                    </tr>
                    <tr class="hover:bg-gray-50 cursor-pointer">
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2024-02-13</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">#1020</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ë¼ì¸ B</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">68ì </td>
                        <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">ì£¼ì˜</span></td>
                    </tr>
                    <tr class="hover:bg-gray-50 cursor-pointer">
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2024-02-13</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">#1019</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ë¼ì¸ C</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">85ì </td>
                        <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">ì‹¬ê°</span></td>
                    </tr>
                    <tr class="hover:bg-gray-50 cursor-pointer">
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2024-02-12</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">#1018</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ë¼ì¸ A</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">72ì </td>
                        <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">ì£¼ì˜</span></td>
                    </tr>
                    <tr class="hover:bg-gray-50 cursor-pointer">
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2024-02-12</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">#1017</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ë¼ì¸ B</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">78ì </td>
                        <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">ì£¼ì˜</span></td>
                    </tr>
                    <tr class="hover:bg-gray-50 cursor-pointer">
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2024-02-11</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">#1016</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ë¼ì¸ C</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">90ì </td>
                        <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">ì‹¬ê°</span></td>
                    </tr>
                    <tr class="hover:bg-gray-50 cursor-pointer">
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2024-02-11</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">#1015</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ë¼ì¸ A</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">83ì </td>
                        <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">ì‹¬ê°</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="mt-4 flex items-center justify-between">
            <div class="flex space-x-2 justify-center w-full mt-8">
                <button class="px-3 py-1 border rounded text-sm">ì´ì „</button>
                <button class="px-3 py-1 bg-custom text-white rounded text-sm">1</button>
                <button class="px-3 py-1 border rounded text-sm">ë‹¤ìŒ</button>
            </div>
        </div>
    </div>
</main>

<!-- ì•Œë¦¼ UI -->
<div class="notification-container">
    <div class="notification-icon" onclick="toggleNotificationModal()">ğŸ””</div>
</div>

<!-- ëª¨ë‹¬ ì•Œë¦¼ ë¦¬ìŠ¤íŠ¸ -->
<div class="modal-overlay" id="modalOverlay" onclick="toggleNotificationModal()"></div>
<div class="notification-modal" id="notificationModal">
    <div class="notification-header">
        <span>ì•Œë¦¼</span>
        <span style="cursor: pointer;" onclick="toggleNotificationModal()">âœ–</span>
    </div>
    <div class="notification-item">ğŸ“© ì´ë©”ì¼ ì•Œë¦¼: ì‹œìŠ¤í…œ ì ê²€ ì˜ˆì •</div>
    <div class="notification-item">âš ï¸ ê²½ê³ : ì˜¨ë„ ì„¼ì„œ ì´ìƒ ê°ì§€</div>
    <div class="notification-item">âœ… ë³´ê³ ì„œ ì „ì†¡ ì™„ë£Œ</div>
    
    <!-- ì•Œë¦¼ ì„¤ì • UI -->
    <div class="notification-settings">
        <label for="notifTime">ì•Œë¦¼ ì‹œê°„ ì„¤ì •</label>
        <select id="notifTime">
            <option value="ì¦‰ì‹œ">ì¦‰ì‹œ</option>
            <option value="1ì‹œê°„ë§ˆë‹¤">1ì‹œê°„ë§ˆë‹¤</option>
            <option value="í•˜ë£¨ í•œ ë²ˆ">í•˜ë£¨ í•œ ë²ˆ</option>
        </select>
        
        <label for="notifType">ì•Œë¦¼ ìœ í˜• ì„ íƒ</label>
        <select id="notifType">
            <option value="all">ëª¨ë“  ì•Œë¦¼</option>
            <option value="warnings">ê²½ê³  ì•Œë¦¼ë§Œ</option>
            <option value="emails">ì´ë©”ì¼ ì•Œë¦¼ë§Œ</option>
        </select>
        
        <label>
            <input type="checkbox" id="pushNotif"> í‘¸ì‹œ ì•Œë¦¼ í™œì„±í™”
        </label>
    </div>
</div>

<script>
    const lineChart = echarts.init(document.getElementById('lineChart'));
    lineChart.setOption({
        tooltip: { trigger: 'axis' },
        legend: { data: ['ë¶ˆëŸ‰ë¥ '] },
        xAxis: { type: 'category', data: ['ë¼ì¸ A', 'ë¼ì¸ B', 'ë¼ì¸ C'] },
        yAxis: { type: 'value', axisLabel: { formatter: '{value}%' } },
        series: [{
            name: 'ë¶ˆëŸ‰ë¥ ',
            type: 'bar',
            data: [2.5, 1.9, 2.2],
            itemStyle: { color: '#e74c3c', borderRadius: [10, 10, 0, 0] }
        }]
    });

    const barChart = echarts.init(document.getElementById('barChart'));
    barChart.setOption({
        tooltip: { trigger: 'axis' },
        xAxis: { type: 'category', data: ['2/9', '2/10', '2/11', '2/12', '2/13', '2/14', '2/15'] },
        yAxis: { type: 'value', axisLabel: { formatter: '{value}%' } },
        series: [{
            data: [2.1, 2.4, 1.8, 2.8, 2.3, 2.9, 2.5],
            type: 'bar',
            barWidth: '40%',
            itemStyle: { color: '#3498db', borderRadius: [10, 10, 0, 0] }
        }]
    });

    window.addEventListener('resize', function() {
        lineChart.resize();
        barChart.resize();
    });

    function openNotificationModal() {
        document.getElementById('notificationModal').classList.remove('hidden');
    }

    function closeNotificationModal() {
        document.getElementById('notificationModal').classList.add('hidden');
    }
</script>
{% endblock %}