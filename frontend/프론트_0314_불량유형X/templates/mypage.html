<!-- templates/mypage.html -->
{% extends "base.html" %}

{% block title %}ë§ˆì´í˜ì´ì§€{% endblock %}

{% block content %}
<style>

    /* í¼ ìŠ¤íƒ€ì¼ */
    .form-container {
        max-width: 600px;
        margin: 0 auto;
        background: white;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .form-group {
        margin-bottom: 20px;
    }
    .form-label {
        display: block;
        margin-bottom: 8px;
        color: #666;
    }
    .form-input {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        background: #fff;
    }
    .email-group {
        display: flex;
        align-items: center;
        gap: 5px;
    }
    .email-group input[type="text"] { flex: 1.2; }
    .email-group span { padding: 0 5px; }
    .email-group select { flex: 1; }
    .phone-group {
        display: grid;
        grid-template-columns: 1fr auto 1fr auto 1fr;
        gap: 10px;
        align-items: center;
    }
    .button-group {
        display: flex;
        justify-content: flex-end;
        gap: 10px;
        margin-top: 30px;
    }
    .btn {
        padding: 10px 25px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
    .btn-cancel {
        background: #f8f9fa;
        border: 1px solid #ddd;
    }
    .btn-save {
        background: #2c3e50;
        color: white;
    }
    .edit-mode .form-input {
        background: #f8f9fa;
        cursor: not-allowed;
    }
</style>

<div class="form-container">
    <div class="form-group">
        <label class="form-label">ì‚¬ë²ˆ</label>
        <input type="text" class="form-input" value="EMP2024001" readonly>
    </div>
    
    <div class="form-group">
        <label class="form-label">ì•„ì´ë””</label>
        <input type="text" class="form-input" value="admin123" readonly>
    </div>

    <div class="form-group">
        <label class="form-label">ì´ë¦„</label>
        <input type="text" class="form-input" value="ê¹€ê´€ë¦¬ì" id="name">
    </div>

    <!-- ìˆ˜ì •ëœ ì´ë©”ì¼ ì˜ì—­ -->
    <div class="form-group">
        <label class="form-label">ì´ë©”ì¼</label>
        <div class="email-group">
            <input type="text" class="form-input" value="admin">
            <span>@</span>
            <input type="text" class="form-input" value="smartfactory">
            <select class="form-input">
                <option>.com</option>
                <option>.net</option>
                <option>.org</option>
            </select>
        </div>
    </div>

    <div class="form-group">
        <label class="form-label">ì „í™”ë²ˆí˜¸</label>
        <div class="phone-group">
            <input type="text" class="form-input" value="010" maxlength="3">
            <span>-</span>
            <input type="text" class="form-input" value="1234" maxlength="4">
            <span>-</span>
            <input type="text" class="form-input" value="5678" maxlength="4">
        </div>
    </div>

    <div class="form-group">
        <label class="form-label">ìƒˆ ë¹„ë°€ë²ˆí˜¸</label>
        <input type="password" class="form-input" id="password">
    </div>

    <div class="form-group">
        <label class="form-label">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
        <input type="password" class="form-input" id="confirmPassword">
    </div>

    <div class="button-group">
        <button class="btn btn-cancel" onclick="toggleEditMode(false)">ì·¨ì†Œ</button>
        <button class="btn btn-save" onclick="toggleEditMode(true)">ì €ì¥</button>
        <button class="btn btn-save" onclick="toggleEditMode()" id="editBtn" style="display:none;">ìˆ˜ì •</button>
    </div>

<!-- ì•Œë¦¼ UI -->
<div class="notification-container">
    <div class="notification-icon" onclick="toggleNotificationModal()">ğŸ””</div>
</div>

<!-- ëª¨ë‹¬ ì•Œë¦¼ ë¦¬ìŠ¤íŠ¸ -->
<div class="modal-overlay" id="modalOverlay" onclick="toggleNotificationModal()"></div>
<div class="notification-modal" id="notificationModal">
    <div class="notification-header">
        <span>ì•Œë¦¼</span>
        <span style="cursor: pointer;" onclick="toggleNotificationModal()">âœ–</span>
    </div>
    <div class="notification-item">ğŸ“© ì´ë©”ì¼ ì•Œë¦¼: ì‹œìŠ¤í…œ ì ê²€ ì˜ˆì •</div>
    <div class="notification-item">âš ï¸ ê²½ê³ : ì˜¨ë„ ì„¼ì„œ ì´ìƒ ê°ì§€</div>
    <div class="notification-item">âœ… ë³´ê³ ì„œ ì „ì†¡ ì™„ë£Œ</div>
    
    <!-- ì•Œë¦¼ ì„¤ì • UI -->
    <div class="notification-settings">
        <label for="notifTime">ì•Œë¦¼ ì‹œê°„ ì„¤ì •</label>
        <select id="notifTime">
            <option value="ì¦‰ì‹œ">ì¦‰ì‹œ</option>
            <option value="1ì‹œê°„ë§ˆë‹¤">1ì‹œê°„ë§ˆë‹¤</option>
            <option value="í•˜ë£¨ í•œ ë²ˆ">í•˜ë£¨ í•œ ë²ˆ</option>
        </select>
        
        <label for="notifType">ì•Œë¦¼ ìœ í˜• ì„ íƒ</label>
        <select id="notifType">
            <option value="all">ëª¨ë“  ì•Œë¦¼</option>
            <option value="warnings">ê²½ê³  ì•Œë¦¼ë§Œ</option>
            <option value="emails">ì´ë©”ì¼ ì•Œë¦¼ë§Œ</option>
        </select>
        
        <label>
            <input type="checkbox" id="pushNotif"> í‘¸ì‹œ ì•Œë¦¼ í™œì„±í™”
        </label>
    </div>
</div>

<script>
    // ìˆ˜ì • ëª¨ë“œ í† ê¸€
    function toggleEditMode(isSave = false) {
        const form = document.querySelector('.form-container');
        const inputs = document.querySelectorAll('.form-input:not([readonly])');
        const editBtn = document.getElementById('editBtn');
        const saveCancelGroup = document.querySelector('.button-group').children;

        if (isSave) {
            form.classList.add('edit-mode');
            inputs.forEach(input => input.disabled = true);
            editBtn.style.display = 'inline-block';
            saveCancelGroup[0].style.display = 'none';
            saveCancelGroup[1].style.display = 'none';
        } else {
            form.classList.remove('edit-mode');
            inputs.forEach(input => input.disabled = false);
            editBtn.style.display = 'none';
            saveCancelGroup[0].style.display = 'inline-block';
            saveCancelGroup[1].style.display = 'inline-block';
        }
    }
</script>
{% endblock %}