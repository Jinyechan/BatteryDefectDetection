<!-- templates/status.html -->
{% extends "base.html" %}

{% block title %}ë¶ˆëŸ‰ í˜„í™©{% endblock %}

{% block content %}
<head>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet"/>
    <link href="https://ai-public.creatie.ai/gen_page/tailwind-custom.css" rel="stylesheet"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.5.0/echarts.min.js"></script>
    <script src="https://cdn.tailwindcss.com/3.4.5?plugins=forms@0.5.7,typography@0.5.13,aspect-ratio@0.4.2,container-queries@0.1.1"></script>
    <script src="https://ai-public.creatie.ai/gen_page/tailwind-config.min.js" data-color="#000000" data-border-radius="small"></script>
    <style>
        /* ë©”ì¸ ì½˜í…ì¸  */
        .main-content {
            margin-left: 240px;
            margin-top: 60px;
            padding: 30px;
            min-height: calc(100vh - 60px);
            overflow-x: hidden;
            position: relative;
        }
    </style>
</head>

<main class="main-content">
    <h1 class="text-2xl font-semibold mb-6">ë°°í„°ë¦¬ ë¶ˆëŸ‰ê²€ì¶œ ê´€ë¦¬</h1>

    <!-- í•„í„° ë° ì°¨íŠ¸ ì„¹ì…˜ -->
    <div class="grid grid-cols-3 gap-6 mb-6">
        <!-- í•„í„° -->
        <div class="bg-white rounded-lg shadow p-6">
            <h3 class="text-lg font-medium text-gray-900 mb-4">ì¡°íšŒ ê¸°ê°„ ì„¤ì •</h3>
            <div class="flex items-center space-x-4 mb-4">
                <input type="date" class="form-input !rounded-button border-gray-300" value="2023-10-01"/>
                <span class="text-gray-500">~</span>
                <input type="date" class="form-input !rounded-button border-gray-300" value="2023-10-31"/>
            </div>
            <button class="bg-custom text-white px-4 py-2 !rounded-button">ì¡°íšŒ</button>
        </div>

        <!-- ì°¨íŠ¸ -->
        <div class="bg-white p-4 rounded-lg shadow">
            <h3 class="text-lg font-medium text-gray-900 mb-4">ë°°í„°ë¦¬ ë¶ˆëŸ‰ìœ í˜•</h3>
            <div id="typeChart" style="height: 300px;"></div>
        </div>
    </div>

    <!-- í…Œì´ë¸” ë° ì°¨íŠ¸ -->
    <div class="grid grid-cols-3 gap-6">
        <div class="col-span-2">
            <div class="overflow-x-auto bg-white rounded-lg shadow p-6 mb-6">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ë°°í„°ë¦¬ ID</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ë¶ˆëŸ‰ìœ í˜•</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ë¶ˆëŸ‰ìƒì„¸</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ìˆ˜ëŸ‰</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ë¹„ìœ¨</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        <tr>
                            <td class="px-6 py-4 text-sm text-gray-900">BAT001</td>
                            <td class="px-6 py-4 text-sm text-gray-900">ì‹¬ê°</td>
                            <td class="px-6 py-4 text-sm text-gray-900">ì…€ ì†ìƒ</td>
                            <td class="px-6 py-4 text-sm text-gray-900">264,951</td>
                            <td class="px-6 py-4 text-sm text-gray-900">98.30%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="bg-white p-4 rounded-lg shadow">
            <h3 class="text-lg font-medium text-gray-900 mb-4">ì¼ì¼ ë°°í„°ë¦¬ ë¶ˆëŸ‰í˜„í™©</h3>
            <div id="dailyChart" style="height: 300px;"></div>
        </div>
    </div>
</main>

<!-- ì•Œë¦¼ UI -->
<div class="notification-container">
    <div class="notification-icon" onclick="toggleNotificationModal()">ğŸ””</div>
</div>

<!-- ëª¨ë‹¬ ì•Œë¦¼ ë¦¬ìŠ¤íŠ¸ -->
<div class="modal-overlay" id="modalOverlay" onclick="toggleNotificationModal()"></div>
<div class="notification-modal" id="notificationModal">
    <div class="notification-header">
        <span>ì•Œë¦¼</span>
        <span style="cursor: pointer;" onclick="toggleNotificationModal()">âœ–</span>
    </div>
    <div class="notification-item">ğŸ“© ì´ë©”ì¼ ì•Œë¦¼: ì‹œìŠ¤í…œ ì ê²€ ì˜ˆì •</div>
    <div class="notification-item">âš ï¸ ê²½ê³ : ì˜¨ë„ ì„¼ì„œ ì´ìƒ ê°ì§€</div>
    <div class="notification-item">âœ… ë³´ê³ ì„œ ì „ì†¡ ì™„ë£Œ</div>
    
    <!-- ì•Œë¦¼ ì„¤ì • UI -->
    <div class="notification-settings">
        <label for="notifTime">ì•Œë¦¼ ì‹œê°„ ì„¤ì •</label>
        <select id="notifTime">
            <option value="ì¦‰ì‹œ">ì¦‰ì‹œ</option>
            <option value="1ì‹œê°„ë§ˆë‹¤">1ì‹œê°„ë§ˆë‹¤</option>
            <option value="í•˜ë£¨ í•œ ë²ˆ">í•˜ë£¨ í•œ ë²ˆ</option>
        </select>
        
        <label for="notifType">ì•Œë¦¼ ìœ í˜• ì„ íƒ</label>
        <select id="notifType">
            <option value="all">ëª¨ë“  ì•Œë¦¼</option>
            <option value="warnings">ê²½ê³  ì•Œë¦¼ë§Œ</option>
            <option value="emails">ì´ë©”ì¼ ì•Œë¦¼ë§Œ</option>
        </select>
        
        <label>
            <input type="checkbox" id="pushNotif"> í‘¸ì‹œ ì•Œë¦¼ í™œì„±í™”
        </label>
    </div>
</div>

<script>
    const typeChart = echarts.init(document.getElementById('typeChart'));
    const dailyChart = echarts.init(document.getElementById('dailyChart'));

    typeChart.setOption({
        animation: false,
        tooltip: { trigger: 'item' },
        series: [{
            type: 'pie',
            radius: '70%',
            data: [
                { value: 264951, name: 'í‘œë©´ ìŠ¤í¬ë˜ì¹˜' },
                { value: 4000, name: 'ì¹˜ìˆ˜ ë¶ˆëŸ‰' },
                { value: 650, name: 'ê¸°íƒ€' }
            ],
            emphasis: {
                itemStyle: {
                    shadowBlur: 10,
                    shadowOffsetX: 0,
                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                }
            }
        }]
    });

    dailyChart.setOption({
        animation: false,
        xAxis: { type: 'category', data: ['10/1', '10/2', '10/3', '10/4', '10/5'] },
        yAxis: { type: 'value' },
        series: [{
            data: [650, 680, 690, 700, 650],
            type: 'bar',
            color: '#2196F3'
        }]
    });
</script>
{% endblock %}