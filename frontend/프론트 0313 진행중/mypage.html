<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지</title>
    <link rel="stylesheet" href="static/style.css">
    <script src="static/script.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family: '맑은 고딕', sans-serif; background:#f8f9fa; }

        /* 헤더 스타일 */
        .header {
            height: 60px;
            background: #2c3e50;
            color: white;
            padding: 0 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: fixed;
            top:0; left:0; right:0;
            z-index:1000;
        }
        .status-alert {
            display: flex;
            align-items: center;
            gap:8px;
            color: #e74c3c;
        }
        .status-indicator {
            width:12px; height:12px;
            background:#e74c3c;
            border-radius:50%;
            animation: blink 1.5s infinite;
        }
        @keyframes blink { 50% { opacity:0.5; } }
        .header-center {
            position: absolute;
            left:50%;
            transform:translateX(-50%);
        }

        /* 사이드바 */
.sidebar {
    position: fixed;
    top: 60px;
    left: 0;
    bottom: 0;
    width: 220px;
    background: white;
    border-right: 1px solid #ddd;
    padding: 15px 0;
    overflow-y: auto;
}

/* 메뉴 항목 스타일 */
.nav-menu {
    list-style: none;
    padding: 0;
    margin: 0;
}

.nav-item > a {
    display: block;
    padding: 10px 20px;
    color: #444;
    text-decoration: none;
}

.nav-item:hover > a {
    background: #f1f3f5;
}

.submenu {
    background: #fff;
    list-style: none;
    padding-left: 20px;
    display: block; /* 항상 보이게 */
}

.submenu li a {
    padding: 10px 20px;
    color: #555;
    display: block;
}

.submenu li:hover a {
    background: #f1f3f5;
}

        /* 메인 콘텐츠 */
        .main-content {
            margin-left:240px;
            margin-top:60px;
            padding:30px;
            min-height:calc(100vh - 100px);
        }

        /* 폼 스타일 */
        .form-container {
            max-width:600px;
            margin:0 auto;
            background:white;
            padding:30px;
            border-radius:8px;
            box-shadow:0 2px 4px rgba(0,0,0,0.1);
        }
        .form-group {
            margin-bottom:20px;
        }
        .form-label {
            display:block;
            margin-bottom:8px;
            color:#666;
        }
        .form-input {
            width:100%;
            padding:10px;
            border:1px solid #ddd;
            border-radius:4px;
            background:#fff;
        }
        .email-group {
            display:flex;
            align-items:center;
            gap:5px;
        }
        .email-group input[type="text"] { flex:1.2; }
        .email-group span { padding:0 5px; }
        .email-group select { flex:1; }
        .phone-group {
            display:grid;
            grid-template-columns:1fr auto 1fr auto 1fr;
            gap:10px;
            align-items:center;
        }
        .button-group {
            display:flex;
            justify-content:flex-end;
            gap:10px;
            margin-top:30px;
        }
        .btn {
            padding:10px 25px;
            border:none;
            border-radius:4px;
            cursor:pointer;
        }
        .btn-cancel {
            background:#f8f9fa;
            border:1px solid #ddd;
        }
        .btn-save {
            background:#2c3e50;
            color:white;
        }
        .edit-mode .form-input {
            background:#f8f9fa;
            cursor:not-allowed;
        }
        .sidebar {
    width:240px;
    background:#fff;
    position:fixed;
    top:60px; bottom:0; left:0;
    border-right:1px solid #ddd;
    padding:20px 0;
}
.nav-menu { list-style:none; }
.nav-item { position:relative; }
.nav-item > a {
    display:block;
    padding:12px 25px;
    color:#555;
    text-decoration:none;
    transition:0.3s;
}
.nav-item:hover > a { background:#f8f9fa; }
.submenu {
    display:none;
    position:absolute;
    left:0; top:100%;
    background:#fff;
    min-width:240px;
    border-radius:6px;
    box-shadow:0 4px 12px rgba(0,0,0,0.15);
    animation: slideDown 0.3s;
}
@keyframes slideDown {
    from { opacity:0; transform: translateY(-10px); }
    to { opacity:1; }
}
.nav-item:hover .submenu { display:block; }
.submenu li a {
    padding: 12px 25px;
    display: block;
    color: #444;
    text-decoration: none;
    transition: 0.2s;
}
.submenu li a:hover {
    background: #f1f3f5;
}

    </style>
</head>
<body>
    <!-- 헤더 -->
    <header class="header">
        <div class="status-alert">
            <div class="status-indicator"></div>
            <span>연결상태 확인 필요</span>
        </div>
        <div class="header-center">스마트 팩토리 관리 시스템</div>
        <div class="notification-panel">
            <i class="fas fa-bell"></i>
            <a href="#" class="logout-btn" onclick="logout()">로그아웃</a>
        </div>
    </header>    

    <!-- 네비게이션 -->
    <nav class="sidebar">
        <ul class="nav-menu">
            <li class="nav-item"><a href="dashboard.html">대시보드</a></li>
            <li class="nav-item">
                <a href="analysis.html">불량분석</a>
                <ul class="submenu">
                    <li><a href="status.html">불량 현황</a></li>
                    <li><a href="detail-analysis.html">불량 상세분석</a></li>
                </ul>
            </li>
            <li class="nav-item"><a href="prediction.html">불량예측</a></li>
            <li class="nav-item"><a href="mypage.html">마이페이지</a></li>
            <li class="nav-item">
                <a href="system-management.html">시스템설정</a>
                <ul class="submenu">
                    <li><a href="system-management.html">시스템 관리</a></li>
                    <li><a href="criteria-setting.html">불량기준설정</a></li>
                </ul>
            </li>
        </ul>
    </nav>
    

    <!-- 메인 콘텐츠 -->
    <main class="main-content">
        <div class="form-container">
            <div class="form-group">
                <label class="form-label">사번</label>
                <input type="text" class="form-input" value="EMP2024001" readonly>
            </div>
            
            <div class="form-group">
                <label class="form-label">아이디</label>
                <input type="text" class="form-input" value="admin123" readonly>
            </div>

            <div class="form-group">
                <label class="form-label">이름</label>
                <input type="text" class="form-input" value="김관리자" id="name">
            </div>

            <!-- 수정된 이메일 영역 -->
            <div class="form-group">
                <label class="form-label">이메일</label>
                <div class="email-group">
                    <input type="text" class="form-input" value="admin">
                    <span>@</span>
                    <input type="text" class="form-input" value="smartfactory">
                    <select class="form-input">
                        <option>.com</option>
                        <option>.net</option>
                        <option>.org</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">전화번호</label>
                <div class="phone-group">
                    <input type="text" class="form-input" value="010" maxlength="3">
                    <span>-</span>
                    <input type="text" class="form-input" value="1234" maxlength="4">
                    <span>-</span>
                    <input type="text" class="form-input" value="5678" maxlength="4">
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">새 비밀번호</label>
                <input type="password" class="form-input" id="password">
            </div>

            <div class="form-group">
                <label class="form-label">비밀번호 확인</label>
                <input type="password" class="form-input" id="confirmPassword">
            </div>

            <div class="button-group">
                <button class="btn btn-cancel" onclick="toggleEditMode(false)">취소</button>
                <button class="btn btn-save" onclick="toggleEditMode(true)">저장</button>
                <button class="btn btn-save" onclick="toggleEditMode()" id="editBtn" style="display:none;">수정</button>
            </div>
        </div>
    </main>

    <script>
        // 수정 모드 토글
        function toggleEditMode(isSave = false) {
            const form = document.querySelector('.form-container');
            const inputs = document.querySelectorAll('.form-input:not([readonly])');
            const editBtn = document.getElementById('editBtn');
            const saveCancelGroup = document.querySelector('.button-group').children;

            if(isSave) {
                form.classList.add('edit-mode');
                inputs.forEach(input => input.disabled = true);
                editBtn.style.display = 'inline-block';
                saveCancelGroup[0].style.display = 'none';
                saveCancelGroup[1].style.display = 'none';
            } else {
                form.classList.remove('edit-mode');
                inputs.forEach(input => input.disabled = false);
                editBtn.style.display = 'none';
                saveCancelGroup[0].style.display = 'inline-block';
                saveCancelGroup[1].style.display = 'inline-block';
            }
        }

        // 로그아웃 기능
        function logout() {
            if(confirm('로그아웃 하시겠습니까?')) {
                window.location.href = '/logout';
            }
        }

        // 페이지 이동 로직
document.querySelectorAll('.menu-item, .sub-menu div').forEach(item => {
    item.addEventListener('click', function(e) {
        e.stopPropagation();
        const pageMapping = {
            '대시보드': 'dashboard.html',
            '불량분석': 'analysis.html',
            '불량예측': 'prediction.html',
            '마이페이지': 'mypage.html',
            '시스템관리': 'system-management.html',
            '불량기준설정': 'criteria-setting.html',
            '회원관리': '06_Member_Management.html'
        };
        
        // 클릭된 메뉴의 data-page 속성값에 해당하는 페이지로 이동
        const pageName = this.dataset.page;
        if (pageMapping[pageName]) {
            window.location.href = pageMapping[pageName];
        }
    });
});
    </script>
</body>
</html>
